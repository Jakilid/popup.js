/* popup.js version 1.0
 * Copyright c 2015 Farshad Shahbazi
 * Released under the MIT license
*/
!function(t){t.fn.popup=function(o,p){var i=function(o){var p=t(this).data("popupPlugin");p||(p=t("#"+o).data("popupPlugin")),t(this).removeData("popupPlugin").unbind("closePopup");var i=t("#"+p.popupId);i[p.settings.hideEffect](p.settings.hideOption,function(){t(this).remove()}),t(document).off("mouseup.hidepopup."+i.attr("id"))};if("close"==o)return void i(t(this).data("popupPlugin").popupId);var e=t.extend({hideEffect:"fadeOut",hideOption:"fast",width:null,height:null,style:"background-color:white; box-shadow: 0px 0px 6px #ccc; border:1px solid #ddd;"},p),d=this,u=o.offset(),n=o.outerWidth(),s=o.outerHeight(),h="popup"+Math.floor(1e3*Math.random()),a=t("<div></div>",{id:h,style:e.style}).css("position","absolute").css("z-index",1001).append(d).hide().appendTo("body");null!=e.width&&a.css("width",e.width),e.height&&a.css("height",e.width);var r=a.outerWidth();return a.css("left",u.left+(n-r)/2).css("top",u.top+s),t(document).on("mouseup.hidepopup."+h,function(o){var p=t("#"+h);p.is(o.target)||0!==p.has(o.target).length||i(h)}),a.data("popupPlugin",{settings:e,popupId:h}),a.bind("closePopup",function(){i(h)}),a}}(jQuery);